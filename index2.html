<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Interface and Table</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .container {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        .side {
            border: 1px solid #ccc;
            padding: 10px;
            width: 45%;
            min-height: 200px;
        }
        .side h3 {
            text-align: center;
        }
        .button-group {
            text-align: center;
            margin-top: 10px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        table, th, td {
            border: 1px solid black;
        }
        th, td {
            padding: 8px;
            text-align: center;
        }
        #popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 1px solid #ccc;
            background: white;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1000;
        }
        #popup-close {
            background: red;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }
        #overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }
        #input-form {
            margin-bottom: 20px;
            border: 1px solid #ccc;
            padding: 10px;
        }
        #input-form input {
            margin: 5px;
        }
    </style>
</head>
<body>
    <h1>Dynamic Element Management</h1>
    <div id="input-form">
        <h3>Add Student Data</h3>
        <label for="name">Name:</label>
        <input type="text" id="name" required>
        <label for="reg-number">Registration Number:</label>
        <input type="text" id="reg-number" required>
        <label for="grade1">Grade 1:</label>
        <input type="number" id="grade1" min="0" max="10" required>
        <label for="grade2">Grade 2:</label>
        <input type="number" id="grade2" min="0" max="10" required>
        <label for="grade3">Grade 3:</label>
        <input type="number" id="grade3" min="0" max="10" required>
        <button id="add-student">Add Student</button>
    </div>
    <div class="container">
        <div class="side" id="left-side">
            <h3>Left Side</h3>
        </div>
        <div class="side" id="right-side">
            <h3>Right Side</h3>
        </div>
    </div>
    <div class="button-group">
        <button id="move-left">Move to Left</button>
        <button id="move-right">Move to Right</button>
        <button id="add-label">Add Label</button>
        <button id="consult">Consult</button>
    </div>
    <table id="data-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Registration Number</th>
                <th>Grade 1</th>
                <th>Grade 2</th>
                <th>Grade 3</th>
                <th>Average</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
    <div id="overlay"></div>
    <div id="popup">
        <h2>Data Table</h2>
        <table id="popup-table"></table>
        <button id="popup-close">Close</button>
    </div>
    <script>
        let counter = 1;

        document.getElementById('add-student').addEventListener('click', () => {
            const name = document.getElementById('name').value;
            const regNumber = document.getElementById('reg-number').value;
            const grade1 = parseFloat(document.getElementById('grade1').value);
            const grade2 = parseFloat(document.getElementById('grade2').value);
            const grade3 = parseFloat(document.getElementById('grade3').value);

            if (!name || !regNumber || isNaN(grade1) || isNaN(grade2) || isNaN(grade3)) {
                alert('Please fill out all fields correctly.');
                return;
            }

            const average = ((grade1 + grade2 + grade3) / 3).toFixed(2);
            let status = '';
            if (average >= 7) {
                status = 'Approved';
            } else if (average >= 5) {
                status = 'In Review';
            } else {
                status = 'Failed';
            }

            const table = document.getElementById('data-table').querySelector('tbody');
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${counter++}</td>
                <td>${name}</td>
                <td>${regNumber}</td>
                <td>${grade1}</td>
                <td>${grade2}</td>
                <td>${grade3}</td>
                <td>${average}</td>
                <td>${status}</td>
            `;
            table.appendChild(row);

            document.getElementById('name').value = '';
            document.getElementById('reg-number').value = '';
            document.getElementById('grade1').value = '';
            document.getElementById('grade2').value = '';
            document.getElementById('grade3').value = '';
        });

        document.getElementById('consult').addEventListener('click', () => {
            const rows = Array.from(document.querySelectorAll('#data-table tbody tr'));
            const popupTable = document.getElementById('popup-table');
            popupTable.innerHTML = '<tr><th>ID</th><th>Name</th><th>Registration Number</th><th>Grade 1</th><th>Grade 2</th><th>Grade 3</th><th>Average</th><th>Status</th></tr>';
            rows.forEach(row => popupTable.appendChild(row.cloneNode(true)));
            document.getElementById('overlay').style.display = 'block';
            document.getElementById('popup').style.display = 'block';
        });

        document.getElementById('popup-close').addEventListener('click', () => {
            document.getElementById('overlay').style.display = 'none';
            document.getElementById('popup').style.display = 'none';
        });
    </script>
</body>
</html>
